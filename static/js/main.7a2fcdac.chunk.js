(this["webpackJsonppath-finder"]=this["webpackJsonppath-finder"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var r,a,o=n(16),u=n(2),c=n.n(u),i=n(14),s=n.n(i),l=n(5),f=n(3),d=n(0),h=n.n(d),p=n(10),v=n(4),b=n(7),w=n(8),g=function(){function e(t,n){Object(b.a)(this,e),this.x=t,this.y=n}return Object(w.a)(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"toString",value:function(){return"(".concat(this.x,", ").concat(this.y,")")}}],[{key:"origin",value:function(){return new e(0,0)}},{key:"random",value:function(t,n){return new e(Math.floor(t.x+Math.random()*(n.x-t.x)),Math.floor(t.y+Math.random()*(n.y-t.y)))}}]),e}(),m=[{dx:1,dy:0},{dx:0,dy:1},{dx:-1,dy:0},{dx:0,dy:-1}],j=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=[],o=Object(f.a)(m);try{for(o.s();!(n=o.n()).done;){var u=n.value,c=u.dx,i=u.dy,s=t.add(new g(c*r,i*r));e.isWithinBounds(s)&&a.push(s)}}catch(l){o.e(l)}finally{o.f()}return a},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return j(e,t,n).filter((function(t){return e.isWall(t)}))},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return j(e,t,n).filter((function(t){return!e.isWall(t)}))},S=function(e,t,n){var r;do{r=g.random(t,n)}while(e.isWall(r));return r},O=function(){function e(t,n){Object(b.a)(this,e),this.numCols=t,this.numRows=n,this.walls=new Set}return Object(w.a)(e,[{key:"toggleWall",value:function(e){return this.toggleWalls([e])}},{key:"toggleWalls",value:function(t){var n=e.empty(this.numCols,this.numRows);n.walls=new Set(Object(l.a)(this.walls));var r,a=Object(f.a)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(!this.isWithinBounds(o))throw new Error("Out of bounds: ".concat(o.toString()));n.isWall(o)?n.walls.delete(o.toString()):n.walls.add(o.toString())}}catch(u){a.e(u)}finally{a.f()}return n}},{key:"isWall",value:function(e){return this.walls.has(e.toString())}},{key:"isWithinBounds",value:function(e){return e.x>=0&&e.y>=0&&e.x<this.numCols&&e.y<this.numRows}}],[{key:"empty",value:function(t,n){return new e(t,n)}},{key:"full",value:function(t,n){for(var r=[],a=0;a<n;++a)for(var o=0;o<t;++o)r.push(new g(o,a));return e.empty(t,n).toggleWalls(r)}}]),e}(),k=function(e){return e[Math.floor(Math.random()*e.length)]},M={prims:{name:"Prims",generate:function(e,t){for(var n=O.full(e,t),r=[g.random(g.origin(),new g(e,t))];r.some((function(e){return n.isWall(e)}));){var a=k(r.filter((function(e){return n.isWall(e)})));n=n.toggleWall(a);var o=y(n,a,2);if(o.length>0){var u=k(o);n=n.toggleWall(new g((a.x+u.x)/2,(a.y+u.y)/2))}r.push.apply(r,Object(l.a)(x(n,a,2)))}return n}},binaryTree:{name:"Binary tree",generate:function(e,t){for(var n=O.empty(e,t),r=2;r<t;r+=2)for(var a=2;a<e;a+=2){var o=[new g(a-1,r),new g(a,r-1)];n=n.toggleWalls([o[Math.floor(2*Math.random())],new g(a-1,r-1)])}return n}},random:{name:"Random",generate:function(e,t){for(var n=O.empty(e,t),r=0;r<t;++r)for(var a=0;a<e;++a)Math.random()<.25&&(n=n.toggleWall(new g(a,r)));return n}}},C=function(e){for(var t=[];e.prev;)t.unshift(e.pos),e=e.prev;return t},q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(b.a)(this,e),this.items=t}return Object(w.a)(e,[{key:"enqueue",value:function(){var e;(e=this.items).push.apply(e,arguments)}},{key:"dequeue",value:function(){if(this.isEmpty())throw new Error("Cannot dequeue empty queue");return this.items.shift()}},{key:"isEmpty",value:function(){return 0===this.size}},{key:"size",get:function(){return this.items.length}}]),e}(),W={name:"Breadth-first search",start:h.a.mark((function(e){var t,n,r,a,o,u,c,i,s,l;return h.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:t=e.maze,n=e.start,r=e.target,a=new Set([n.toString()]),o=new q([{pos:n}]);case 3:if(o.isEmpty()){d.next=11;break}return u=o.dequeue(),d.next=7,{current:u,visited:a,found:u.pos.equals(r)};case 7:c=Object(f.a)(y(t,u.pos));try{for(c.s();!(i=c.n()).done;)s=i.value,l=s.toString(),a.has(l)||(a.add(l),o.enqueue({pos:s,prev:u}))}catch(h){c.e(h)}finally{c.f()}d.next=3;break;case 11:case"end":return d.stop()}}),n)})),rewind:C};!function(e){e[e.Forward=0]="Forward",e[e.Backward=1]="Backward"}(r||(r={}));var z,B={name:"Bidirectional BFS",start:h.a.mark((function(e){var t,n,o,u,c,i,s,d,p,v,b,w,g,m,j,x;return h.a.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:t=e.maze,n=e.start,o=e.target,a=[],u=new Set([n.toString()]),c=new Set([o.toString()]),i=new q([{node:{pos:n},direction:r.Forward},{node:{pos:o},direction:r.Backward}]);case 5:if(i.isEmpty()){h.next=14;break}return s=i.dequeue(),d=s.node,p=s.direction,v=p===r.Forward&&c.has(d.pos.toString())||p===r.Backward&&u.has(d.pos.toString()),h.next=10,{current:d,visited:new Set([].concat(Object(l.a)(u),Object(l.a)(c))),found:v};case 10:b=Object(f.a)(y(t,d.pos));try{for(b.s();!(w=b.n()).done;)g=w.value,m=g.toString(),j=!1,p===r.Forward?u.has(m)||(u.add(m),j=!0):c.has(m)||(c.add(m),j=!0),j&&(x={node:{pos:g,prev:d},direction:p},a.push(x),i.enqueue(x))}catch(S){b.e(S)}finally{b.f()}h.next=5;break;case 14:case"end":return h.stop()}}),n)})),rewind:function(e){var t=a.filter((function(t){var n=t.node;return e.pos.equals(n.pos)})).sort((function(e){return e.direction===r.Forward?-1:1}));return[].concat(Object(l.a)(C(t[0].node)),Object(l.a)(C(t[1].node).reverse()))}},R=n(15),F=n.n(R),E=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},N={name:"Greedy best-first search",start:h.a.mark((function(e){var t,n,r,a,o,u,c,i,s,l;return h.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:t=e.maze,n=e.start,r=e.target,a=new Set([n.toString()]),o=new F.a({comparator:function(e,t){return E(e.pos,r)-E(t.pos,r)},initialValues:[{pos:n}]});case 3:if(!(o.length>0)){d.next=11;break}return u=o.dequeue(),d.next=7,{current:u,visited:a,found:u.pos.equals(r)};case 7:c=Object(f.a)(y(t,u.pos));try{for(c.s();!(i=c.n()).done;)s=i.value,l=s.toString(),a.has(l)||(a.add(l),o.queue({pos:s,prev:u}))}catch(h){c.e(h)}finally{c.f()}d.next=3;break;case 11:case"end":return d.stop()}}),n)})),rewind:C},G=h.a.mark((function e(t,n,r){var a,o,u,c;return h.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,{current:t,visited:n,found:t.pos.equals(r.target)};case 2:a=Object(f.a)(y(r.maze,t.pos)),i.prev=3,a.s();case 5:if((o=a.n()).done){i.next=13;break}if(u=o.value,c=u.toString(),n.has(c)){i.next=11;break}return n.add(c),i.delegateYield(e({pos:u,prev:t},n,r),"t0",11);case 11:i.next=5;break;case 13:i.next=18;break;case 15:i.prev=15,i.t1=i.catch(3),a.e(i.t1);case 18:return i.prev=18,a.f(),i.finish(18);case 21:case"end":return i.stop()}}),e,null,[[3,15,18,21]])})),D={breadthFirstSearch:W,biDirectionalBfs:B,greedBestFirstSearch:N,depthFirstSearch:{name:"Depth-first search",start:h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(G({pos:t.start},new Set([t.start.toString()]),t),"t0",1);case 1:case"end":return e.stop()}}),e)})),rewind:C}},T=function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=n(1),Y=function(e){return Object(P.jsxs)("div",{className:"Controls",children:[Object(P.jsxs)("fieldset",{children:[Object(P.jsx)("legend",{children:"Maze generator"}),Object(P.jsx)("select",{onChange:e.onMazeGeneratorSelect,value:e.selectedMazeGenerator,children:Object.entries(M).map((function(e){var t=Object(v.a)(e,2),n=t[0],r=t[1];return Object(P.jsx)("option",{value:n,children:r.name},n)}))}),Object(P.jsx)("button",{onClick:e.onGenerateClick,disabled:e.isRunning,children:"Generate"}),Object(P.jsx)("button",{onClick:e.onClearClick,disabled:e.isRunning,children:"Clear"})]}),Object(P.jsxs)("fieldset",{children:[Object(P.jsx)("legend",{children:"Search method"}),Object(P.jsx)("select",{onChange:e.onSearchMethodSelect,value:e.selectedSearchMethod,children:Object.entries(D).map((function(e){var t=Object(v.a)(e,2),n=t[0],r=t[1];return Object(P.jsx)("option",{value:n,children:r.name},n)}))}),Object(P.jsx)("button",{onClick:e.isRunning?e.onStopClick:e.onStartClick,children:e.isRunning?"Stop":"Start"})]})]})},I=function(e){for(var t=[],n=0;n<e.numRows;++n)for(var r=function(r){var a=new g(r,n);t.push(Object(P.jsx)("div",{className:e.getSquareClassName(a),onMouseUp:function(){return e.onMouseUp(a)},onMouseDown:function(){return e.onMouseDown(a)},onMouseEnter:function(){return e.onMouseEnter(a)}},a.toString()))},a=0;a<e.numCols;++a)r(a);return Object(P.jsx)("div",{className:"Maze",style:e.style,children:t})};!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.Target=2]="Target"}(z||(z={}));var V=function(e,t){return O.empty(e,t)},U=function(e,t){return new g(Math.floor(e/4)-1,Math.floor(t/2))},J=function(e,t){return new g(e-Math.floor(e/4),Math.floor(t/2))},H=function(){return new Set},A=function(){return new Set},K=function(e){var t=e.mazeSize,n=t.cols,r=t.rows,a=e.mazeStyle,o=Object(u.useState)(V(n,r)),c=Object(v.a)(o,2),i=c[0],s=c[1],d=Object(u.useState)(U(n,r)),b=Object(v.a)(d,2),w=b[0],m=b[1],j=Object(u.useState)(J(n,r)),x=Object(v.a)(j,2),y=x[0],O=x[1],k=Object(u.useState)(H()),C=Object(v.a)(k,2),q=C[0],W=C[1],B=Object(u.useState)(A()),R=Object(v.a)(B,2),F=R[0],E=R[1],N=Object(u.useState)(z.None),G=Object(v.a)(N,2),K=G[0],L=G[1],Q=Object(u.useState)(!1),X=Object(v.a)(Q,2),Z=X[0],$=X[1],_=Object(u.useState)(Date.now),ee=Object(v.a)(_,2)[1],te=Object(u.useState)("prims"),ne=Object(v.a)(te,2),re=ne[0],ae=ne[1],oe=Object(u.useState)("breadthFirstSearch"),ue=Object(v.a)(oe,2),ce=ue[0],ie=ue[1],se=Object(u.useRef)(null),le=function(e){se.current=e},fe=Object(u.useRef)(!1),de=function(){return fe.current},he=function(e){fe.current=e},pe=function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he(!0),null===se.current&&(le(ve()),E(A()));case 2:if((t=se.current.next()).value&&t.value(),de()){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,T(8);case 8:if(!t.done){e.next=2;break}case 9:le(null),he(!1),ee(Date.now);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=h.a.mark((function e(){var t,n,r,a,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=D[ce],n=Object(f.a)(t.start({maze:i,start:w,target:y})),e.prev=2,a=h.a.mark((function e(){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.value,e.next=3,function(){return W(new Set(Object(l.a)(n.visited)))};case 3:if(!n.found){e.next=8;break}return e.delegateYield(h.a.mark((function e(){var r,a,o,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=A(),E(r),a=Object(f.a)(t.rewind(n.current)),e.prev=3,u=h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.value,e.next=3,function(){return E(new Set(Object(l.a)(r.add(t.toString()))))};case 3:case"end":return e.stop()}}),e)})),a.s();case 6:if((o=a.n()).done){e.next=10;break}return e.delegateYield(u(),"t0",8);case 8:e.next=6;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(3),a.e(e.t1);case 15:return e.prev=15,a.f(),e.finish(15);case 18:return e.abrupt("return",{v:{v:void 0}});case 19:case"end":return e.stop()}}),e,null,[[3,12,15,18]])}))(),"t0",5);case 5:if("object"!==typeof(a=e.t0)){e.next=8;break}return e.abrupt("return",a.v);case 8:case"end":return e.stop()}}),e)})),n.s();case 5:if((r=n.n()).done){e.next=12;break}return e.delegateYield(a(),"t0",7);case 7:if("object"!==typeof(o=e.t0)){e.next=10;break}return e.abrupt("return",o.v);case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(2),n.e(e.t1);case 17:return e.prev=17,n.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})),be=function(){s(V(n,r)),m(U(n,r)),O(J(n,r)),W(H()),E(A()),le(null),he(!1)};return Object(P.jsxs)("div",{className:"PathFinder".concat(de()?" is-running":""),children:[Object(P.jsx)(Y,{isRunning:de(),onStartClick:pe,onStopClick:function(){return he(!1)},onClearClick:be,onGenerateClick:function(){be();var e=M[re].generate(n,r),t=S(e,g.origin(),new g(n/3,r)),a=S(e,new g(2*n/3,0),new g(n,r));s(e),m(t),O(a)},selectedMazeGenerator:re,selectedSearchMethod:ce,onMazeGeneratorSelect:function(e){return ae(e.target.value)},onSearchMethodSelect:function(e){return ie(e.target.value)}}),Object(P.jsx)(I,{numRows:r,numCols:n,style:a,getSquareClassName:function(e){return i.isWall(e)?"is-wall":w.equals(e)?"is-start":y.equals(e)?"is-target":F.has(e.toString())?"is-solution":q.has(e.toString())?"is-visited":""},onMouseUp:function(){L(z.None),$(!1)},onMouseDown:function(e){if(!de()){if(e.equals(w))return L(z.Start);if(e.equals(y))return L(z.Target);$(!0),s(i.toggleWall(e))}},onMouseEnter:function(e){if(K!==z.None&&!i.isWall(e))return K===z.Start?m(e):O(e);!Z||e.equals(w)||e.equals(y)||s(i.toggleWall(e))}})]})};n(25);s.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(K,Object(o.a)({},function(){var e=parseInt(getComputedStyle(document.body).getPropertyValue("padding-left")),t=parseInt(getComputedStyle(document.querySelector("header")).getPropertyValue("height")),n=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--square-width")),r=Math.floor((window.innerWidth-2*e)/n),a=Math.max(5,Math.floor((window.innerHeight-3*t)/n));return{mazeSize:{cols:r,rows:a},mazeStyle:{gridTemplateColumns:"repeat(".concat(r,", ").concat(n,"px)"),gridTemplateRows:"repeat(".concat(a,", ").concat(n,"px)")}}}()))}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.7a2fcdac.chunk.js.map