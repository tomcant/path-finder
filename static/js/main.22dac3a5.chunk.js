(this["webpackJsonppath-finder"]=this["webpackJsonppath-finder"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var r,a,o=n(16),s=n(1),i=n.n(s),u=n(14),c=n.n(u),l=n(8),d=n.n(l),h=n(2),f=n(4),p=n(10),b=n(3),v=n(6),g=n(7),w=function(){function e(t,n){Object(v.a)(this,e),this.x=t,this.y=n}return Object(g.a)(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"toString",value:function(){return"(".concat(this.x,", ").concat(this.y,")")}}],[{key:"random",value:function(t,n,r,a){return new e(Math.floor(t+Math.random()*(r-t)),Math.floor(n+Math.random()*(a-n)))}}]),e}(),j=function(){function e(t,n){Object(v.a)(this,e),this.numCols=t,this.numRows=n,this.walls=new Set}return Object(g.a)(e,[{key:"toggleWall",value:function(t){if(!this.isWithinBounds(t))throw new Error("Out of bounds: ".concat(t.toString()));var n=new e(this.numCols,this.numRows);return n.walls=new Set(Object(h.a)(this.walls)),n.isWall(t)?n.walls.delete(t.toString()):n.walls.add(t.toString()),n}},{key:"isWall",value:function(e){return this.walls.has(e.toString())}},{key:"getNeighbours",value:function(e){for(var t=[],n=0,r=[{dx:1,dy:0},{dx:0,dy:1},{dx:-1,dy:0},{dx:0,dy:-1}];n<r.length;n++){var a=r[n],o=a.dx,s=a.dy,i=e.add(new w(o,s));this.isWithinBounds(i)&&(this.isWall(i)||t.push(i))}return t}},{key:"isWithinBounds",value:function(e){return e.x>=0&&e.y>=0&&e.x<this.numCols&&e.y<this.numRows}}]),e}(),m=function(e){for(var t=[];e.prev;)t.unshift(e.pos),e=e.prev;return t},S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(v.a)(this,e),this.items=t}return Object(g.a)(e,[{key:"enqueue",value:function(){var e;(e=this.items).push.apply(e,arguments)}},{key:"dequeue",value:function(){if(this.isEmpty())throw new Error("Cannot dequeue empty queue");return this.items.shift()}},{key:"isEmpty",value:function(){return 0===this.size}},{key:"size",get:function(){return this.items.length}}]),e}(),y={name:"Breadth-first search",run:function(e){for(var t=e.map,n=e.start,r=e.target,a={path:null,states:[]},o=new Set([n.toString()]),s=new S([{pos:n}]);!s.isEmpty();){var i=s.dequeue();if(a.states.push({current:i,visited:new Set(Object(h.a)(o))}),i.pos.equals(r)){a.path=m(i);break}var u,c=Object(f.a)(t.getNeighbours(i.pos));try{for(c.s();!(u=c.n()).done;){var l=u.value,d=l.toString();o.has(d)||(o.add(d),s.enqueue({pos:l,prev:i}))}}catch(p){c.e(p)}finally{c.f()}}return a}};!function(e){e[e.Forward=0]="Forward",e[e.Backward=1]="Backward"}(r||(r={}));var O,k=function(e){var t=a.filter((function(t){var n=t.node;return e.pos.equals(n.pos)})).sort((function(e){return e.direction===r.Forward?-1:1}));return[].concat(Object(h.a)(m(t[0].node)),Object(h.a)(m(t[1].node).reverse()))},x={name:"Bidirectional BFS",run:function(e){var t=e.map,n=e.start,o=e.target;a=[];for(var s={path:null,states:[]},i=new Set([n.toString()]),u=new Set([o.toString()]),c=new S([{node:{pos:n},direction:r.Forward},{node:{pos:o},direction:r.Backward}]);!c.isEmpty();){var l=c.dequeue(),d=l.node,p=l.direction;if(s.states.push({current:d,visited:new Set([].concat(Object(h.a)(i),Object(h.a)(u)))}),p===r.Forward&&u.has(d.pos.toString())||p===r.Backward&&i.has(d.pos.toString())){s.path=k(d);break}var b,v=Object(f.a)(t.getNeighbours(d.pos));try{for(v.s();!(b=v.n()).done;){var g=b.value,w=g.toString(),j=!1;if(p===r.Forward?i.has(w)||(i.add(w),j=!0):u.has(w)||(u.add(w),j=!0),j){var m={node:{pos:g,prev:d},direction:p};a.push(m),c.enqueue(m)}}}catch(y){v.e(y)}finally{v.f()}}return s}},C=n(15),M=n.n(C),q=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},N={"breadth-first-search":y,"bidirectional-bfs":x,"greedy-best-first-search":{name:"Greedy best-first search",run:function(e){for(var t=e.map,n=e.start,r=e.target,a={path:null,states:[]},o=new Set([n.toString()]),s=new M.a({comparator:function(e,t){return q(e.pos,r)-q(t.pos,r)},initialValues:[{pos:n}]});s.length>0;){var i=s.dequeue();if(a.states.push({current:i,visited:new Set(Object(h.a)(o))}),i.pos.equals(r)){a.path=m(i);break}var u,c=Object(f.a)(t.getNeighbours(i.pos));try{for(c.s();!(u=c.n()).done;){var l=u.value,d=l.toString();o.has(d)||(o.add(d),s.queue({pos:l,prev:i}))}}catch(p){c.e(p)}finally{c.f()}}return a}}},W=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=n(0),B=function(e){return Object(R.jsxs)("div",{className:"Controls",children:[Object(R.jsx)("button",{onClick:e.isRunning?e.onStopClick:e.onStartClick,children:e.isRunning?"Stop":"Start"}),Object(R.jsx)("button",{onClick:e.onClearClick,disabled:e.isRunning,children:"Clear"}),Object(R.jsx)("button",{onClick:e.onGenerateClick,disabled:e.isRunning,children:"Generate"}),Object(R.jsx)("select",{onChange:e.onMethodSelect,value:e.selectedMethod,children:Object.entries(N).map((function(e){var t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(R.jsx)("option",{value:n,children:r.name},n)}))})]})},E=function(e){for(var t=[],n=0;n<e.numRows;++n)for(var r=function(r){var a=new w(r,n);t.push(Object(R.jsx)("div",{className:e.getSquareClassName(a),onMouseUp:function(){return e.onMouseUp(a)},onMouseDown:function(){return e.onMouseDown(a)},onMouseEnter:function(){return e.onMouseEnter(a)}},a.toString()))},a=0;a<e.numCols;++a)r(a);return Object(R.jsx)("div",{className:"PathMap",style:e.style,children:t})};!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.Target=2]="Target"}(O||(O={}));var F=function(e,t){return new j(e,t)},P=function(e,t){return new w(Math.floor(e/4)-1,Math.floor(t/2)-1)},T=function(e,t){return new w(e-Math.floor(e/4),Math.floor(t/2)-1)},D=function(){return new Set},z=function(){return new Set},G=function(e){var t=e.mapSize,n=t.cols,r=t.rows,a=e.mapStyle,o=Object(s.useState)(F(n,r)),i=Object(b.a)(o,2),u=i[0],c=i[1],l=Object(s.useState)(P(n,r)),v=Object(b.a)(l,2),g=v[0],j=v[1],m=Object(s.useState)(T(n,r)),S=Object(b.a)(m,2),y=S[0],k=S[1],x=Object(s.useState)(D()),C=Object(b.a)(x,2),M=C[0],q=C[1],G=Object(s.useState)(z()),I=Object(b.a)(G,2),V=I[0],U=I[1],J=Object(s.useState)("greedy-best-first-search"),H=Object(b.a)(J,2),A=H[0],K=H[1],L=Object(s.useState)(O.None),Q=Object(b.a)(L,2),X=Q[0],Y=Q[1],Z=Object(s.useState)(!1),$=Object(b.a)(Z,2),_=$[0],ee=$[1],te=Object(s.useState)(Date.now),ne=Object(b.a)(te,2)[1],re=Object(s.useRef)(!1),ae=function(){return re.current},oe=function(e){re.current=e,e||ne(Date.now)},se=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,r,a,o,s,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oe(!0),t=z(),U(t),n=N[A].run({map:u,start:g,target:y}),r=Object(f.a)(n.states),e.prev=5,r.s();case 7:if((a=r.n()).done){e.next=16;break}if(o=a.value,ae()){e.next=11;break}return e.abrupt("break",16);case 11:return q(o.visited),e.next=14,W(5);case 14:e.next=7;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:s=Object(f.a)(n.path||[]),e.prev=25,s.s();case 27:if((i=s.n()).done){e.next=36;break}if(c=i.value,ae()){e.next=31;break}return e.abrupt("break",36);case 31:return U(new Set(Object(h.a)(t.add(c.toString())))),e.next=34,W(10);case 34:e.next=27;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(25),s.e(e.t1);case 41:return e.prev=41,s.f(),e.finish(41);case 44:oe(!1);case 45:case"end":return e.stop()}}),e,null,[[5,18,21,24],[25,38,41,44]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){c(F(n,r)),j(P(n,r)),k(T(n,r)),q(D()),U(z()),oe(!1)};return Object(R.jsxs)("div",{className:"PathFinder".concat(ae()?" is-running":""),children:[Object(R.jsx)(B,{isRunning:ae(),onStartClick:se,onStopClick:function(){oe(!1)},onClearClick:ie,onGenerateClick:function(){ie();var e=w.random(0,0,n/3,r/3),t=w.random(2*n/3,2*r/3,n,r);j(e),k(t);for(var a=F(n,r),o=0;o<r;++o)for(var s=0;s<n;++s){var i=new w(s,o);e.equals(i)||t.equals(i)||Math.random()<.25&&(a=a.toggleWall(i),c(a))}},onMethodSelect:function(e){K(e.target.value)},selectedMethod:A}),Object(R.jsx)(E,{numRows:r,numCols:n,style:a,getSquareClassName:function(e){return u.isWall(e)?"is-wall":g.equals(e)?"is-start":y.equals(e)?"is-target":V.has(e.toString())?"is-solution":M.has(e.toString())?"is-visited":""},onMouseUp:function(){Y(O.None),ee(!1)},onMouseDown:function(e){if(!ae()){if(e.equals(g))return Y(O.Start);if(e.equals(y))return Y(O.Target);ee(!0),c(u.toggleWall(e))}},onMouseEnter:function(e){if(X!==O.None&&!u.isWall(e))return X===O.Start?j(e):k(e);!_||e.equals(g)||e.equals(y)||c(u.toggleWall(e))}})]})};n(25);c.a.render(Object(R.jsx)(i.a.StrictMode,{children:Object(R.jsx)(G,Object(o.a)({},function(){var e=parseInt(getComputedStyle(document.body).getPropertyValue("padding-left")),t=parseInt(getComputedStyle(document.querySelector("header")).getPropertyValue("height")),n=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--map-square-width")),r=Math.floor((window.innerWidth-2*e)/n),a=Math.floor((window.innerHeight-2*t-e)/n);return{mapSize:{cols:r,rows:a},mapStyle:{gridTemplateColumns:"repeat(".concat(r,", ").concat(n,"px)"),gridTemplateRows:"repeat(".concat(a,", ").concat(n,"px)")}}}()))}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.22dac3a5.chunk.js.map